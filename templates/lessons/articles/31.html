{% extends 'lessons/temporary1.html' %}

{% block article %}
<section class="lesson-material__content"><article class="material"><h2>Библиотеки Python. Numpy</h2>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4 style="padding-left: 60px;"><strong>План урока</strong></h4>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">1</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#1">Вычислительные возможности Python. Numpy</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">2</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#2">Измерение скорости</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">3</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#3">Массивы в&nbsp;Numpy</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">4</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#4">Размерность массива</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">5</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#5">Индексация в&nbsp;массивах</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">6</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#6">Массовые операции</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">7</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#7">Немного о&nbsp;матрицах</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">8</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#8">Сортировки</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">9</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#9">Вспомним PIL</a></span></div>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; display: table-cell; vertical-align: top; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 1px solid #4d4d4d; vertical-align: middle; border-radius: 50%; color: #4d4d4d !important; width: 40px; height: 40px; text-align: center; font-size: 18px; line-height: 40px; overflow: hidden; white-space: nowrap;">10</div>
</div>
<div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 25px; border: 0px; display: table-cell; vertical-align: middle; height: 40px;">
<div style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-size: 20px; color: #4d4d4d;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; font-weight: 500;"><a style="box-sizing: content-box; margin: 0px; padding: 0px; border: 0px; color: #4d4d4d !important;" href="#10">Игра «Жизнь»</a></span></div>
</div>
</div>
<div style="margin-bottom: 60px;">&nbsp;</div>
<div style="background-color: #f5f2f0; padding: 60px;">
<h4><strong>Аннотация</strong></h4>
<div><em>Этот урок посвящён вычислительным мощностям Python и&nbsp;библиотеке Numpy. Также мы&nbsp;научимся замерять время выполнения программы. Мы&nbsp;затронем работу с&nbsp;многомерными массивами и&nbsp;изучим (или вспомним) немного линейной алгебры. И, возможно, напишем игру.</em></div>
</div>
<p><a name="1"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>1. Вычислительные возможности Python. Numpy</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Как мы&nbsp;уже говорили, Python&nbsp;— язык для быстрой разработки. Однако чистый Python не&nbsp;предназначен для написания быстрых программ. Это интерпретируемый язык, поэтому программы на&nbsp;Python выполняются медленнее аналогов на&nbsp;C, C++&nbsp;или Fortran. С&nbsp;другой стороны математики, физики, биологи и&nbsp;инженеры часто применяют Python для решения вычислительных задач.</p>
<p>Нет&nbsp;ли тут противоречия? Как интерпретируемый язык может быть эффективен в&nbsp;вычислительной математике?</p>
<p>Оказывается, всё дело в&nbsp;библиотеках. Python отлично подходит на&nbsp;роль промежуточной среды, оболочки, «клея» между библиотеками, написанными на&nbsp;разных языках.</p>
<p>В&nbsp;этом уроке мы&nbsp;поговорим про наиболее фундаментальную библиотеку для работы с&nbsp;вычислительной математикой&nbsp;— <strong>numpy</strong>.</p>
<p>Многие другие пакеты для работы с&nbsp;данными и&nbsp;вычислениями используют базовые объекты этой библиотеки. В&nbsp;числе таких пакетов <strong>OpenCV</strong>&nbsp;— открытая библиотека для работы с&nbsp;распознаванием образов&nbsp;— и&nbsp;<strong>Pandas</strong>&nbsp;— библиотека, ориентированная на&nbsp;анализ данных.</p>
</div>
<p><a name="2"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>2. Измерение скорости</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Замеры времени (а&nbsp;в&nbsp;более общем случае, профилирование)&nbsp;— не&nbsp;такая простая процедура, как может показаться. Обычно проще всего замерить «астрономическое время» между началом и&nbsp;концом выполнения задачи, усредняя результаты нескольких опытов. Однако почти все&nbsp;ОС многозадачны, поэтому процессор (и&nbsp;его вычислительные ядра) редко отдаются одной задаче в&nbsp;единоличное пользование. Как следствие, в&nbsp;измерениях лучше использовать именно процессорное время. Механизмы замера времени сами вмешиваются в&nbsp;процесс и&nbsp;немного влияют на&nbsp;результат&nbsp;— как и&nbsp;в&nbsp;любом физическом эксперименте.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>timeit</strong></h4>
<div>
<p>В&nbsp;Python для замера времени работы кода служит библиотека <strong>timeit</strong>.</p>
<p>Вы&nbsp;можете познакомится с&nbsp;возможностями модуля в&nbsp;соответствующем <span style="text-decoration: underline;"><a href="https://docs.python.org/3/library/timeit.html" target="_blank" rel="noopener">разделе документации</a></span>.</p>
</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Например, мы&nbsp;можем замерить три разных способа заполнить список из&nbsp;миллиона квадратных корней.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">import</span> <span style="color: #dc143c;">timeit</span>
&nbsp;
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span><span style="color: #dc143c;">timeit</span>.<span style="color: #dc143c;">timeit</span><span style="color: black;">(</span><span style="color: #483d8b;">"[sqrt(x) for x in range(1000000)]"</span><span style="color: #66cc66;">,</span>
                    <span style="color: #483d8b;">"from math import sqrt"</span><span style="color: #66cc66;">,</span> number<span style="color: #66cc66;">=</span><span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: black;">)</span>
&nbsp;
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span><span style="color: #dc143c;">timeit</span>.<span style="color: #dc143c;">timeit</span><span style="color: black;">(</span><span style="color: #483d8b;">"for i in range(1000000): a.append(sqrt(i))"</span><span style="color: #66cc66;">,</span>
                    <span style="color: #483d8b;">"from math import sqrt; a=[]"</span><span style="color: #66cc66;">,</span> number<span style="color: #66cc66;">=</span><span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: black;">)</span>
&nbsp;
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span><span style="color: #dc143c;">timeit</span>.<span style="color: #dc143c;">timeit</span><span style="color: black;">(</span><span style="color: #483d8b;">"list(map(sqrt, range(1000000)))"</span><span style="color: #66cc66;">,</span>
                    <span style="color: #483d8b;">"from math import sqrt; a=[]"</span><span style="color: #66cc66;">,</span> number<span style="color: #66cc66;">=</span><span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
&nbsp;
0.18135334600083297
0.21764946899929782
0.1530561779945856</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Как видим, в&nbsp;этой версии интерпретатора (3.6) предпочтительно использовать <strong>map</strong>.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Важно</strong></h4>
<div>Самый медленный способ&nbsp;— это, конечно&nbsp;же, динамическое расширение существующего списка (<strong>append</strong>). Причём, чем больше список&nbsp;— тем медленнее он&nbsp;меняет свой размер. Это вызвано необходимостью иногда переносить данные из&nbsp;одного места списка в&nbsp;другое.</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Несмотря на&nbsp;относительную быстроту (0,15 секунд на&nbsp;извлечение 1000000 квадратных корней), скорость можно увеличить ещё примерно в&nbsp;10&nbsp;раз. Давайте посмотрим как.</p>
</div>
<p><a name="3"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>3. Массивы в&nbsp;Numpy</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Основной объект в&nbsp;<strong>numpy</strong>&nbsp;— это многомерный массив.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Массив</strong></h4>
<div>Массивы&nbsp;— одна из&nbsp;базовых структур данных, которая позволяет моделировать многие объекты, относящиеся как к&nbsp;науке, так и&nbsp;к&nbsp;обычной жизни: список покупок, результаты наблюдения температуры, матрицы и&nbsp;вектора, изображения, видео и&nbsp;т.д.</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Напомним, что в&nbsp;чистом Python нет типа данных с&nbsp;именем <strong>массив</strong>, и&nbsp;нам приходится моделировать его с&nbsp;помощью списков.</p>
<p>Другое дело <strong>numpy</strong>. За&nbsp;тип массива здесь отвечает объект <strong>array</strong>.</p>
<p>Как&nbsp;же создать массив?</p>
<p>Ну, во-первых, массив можно сделать из&nbsp;обычного списка:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np
&nbsp;
np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">34</span><span style="color: black;">]</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
&nbsp;
array<span style="color: black;">(</span><span style="color: black;">[</span> 1, 4, 10, 34<span style="color: black;">]</span><span style="color: black;">)</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>или из&nbsp;диапазона:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: #008000;">range</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: black;">)</span><span style="color: black;">)</span> 
&nbsp;
------------------------------------------
&nbsp;
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>А&nbsp;можно сделать и&nbsp;из&nbsp;итератора с&nbsp;помощью функции <strong>fromiter()</strong>:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: black;">fromiter</span><span style="color: black;">(</span><span style="color: #008000;">map</span><span style="color: black;">(</span><span style="color: #008000;">int</span><span style="color: #66cc66;">,</span> <span style="color: black;">[</span><span style="color: #483d8b;">"1"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"2"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"3"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"4"</span><span style="color: black;">]</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">int8</span><span style="color: black;">)</span> 
&nbsp;
------------------------------------------
&nbsp;
array([1, 2, 3, 4], dtype=int8)</pre>
</div>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Важно</strong></h4>
<div>В&nbsp;numpy элементы одного массива должны быть однородны (одного типа). Это&nbsp;— самое важное идеологическое отличие массивов от&nbsp;списков, в&nbsp;которых можно хранить объекты разной природы.</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: #ff4500;">11</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">234.5</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"hello"</span><span style="color: black;">]</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; array(['11', '234', 'hello'], dtype='&lt;U11')</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Numpy создаст массив из&nbsp;юникод-строк длиной 11. За&nbsp;тип элементов в&nbsp;большинстве случаев отвечает параметр <strong>dtype(data type)</strong>. Обратите внимание на&nbsp;тип данных элементов массива. Посмотрите так&nbsp;же на&nbsp;использование параметра <strong>dtype</strong>:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">]</span><span style="color: black;">)</span>
a <span style="color: #808080; font-style: italic;"># =&gt; array([1, 3, 8])</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a.<span style="color: black;">dtype</span>
<span style="color: #808080; font-style: italic;"># =&gt; dtype('int64')</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #008000;">type</span><span style="color: black;">(</span>a<span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; numpy.int64</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">float64</span><span style="color: black;">)</span>
<span style="color: #008000;">type</span><span style="color: black;">(</span>a<span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; numpy.float64</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Указание типов и&nbsp;работа с&nbsp;ними нужны, поскольку языки, на&nbsp;которых написана эта библиотека, строго типизованы. Вдобавок это увеличивает скорость обработки данных.</p>
</div>
<p><a name="4"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>4. Размерность массива</h4>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Размерность массива</strong></h4>
<div>
<p>Размерность массива можно в&nbsp;любой момент изменить операцией <strong>reshape</strong>.</p>
<p>Узнать размерность можно атрибутом <strong>shape</strong>.</p>
</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Вообще говоря, размерность&nbsp;— всего лишь «синтаксический сахар». В&nbsp;памяти всё может храниться как одномерный массив с&nbsp;пересчетом координат элемента. Таким образом, операция <strong>reshape</strong>&nbsp;— просто изменение коэффициентов в&nbsp;алгоритме, а&nbsp;не&nbsp;перераспределение и&nbsp;копирование данных.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a <span style="color: #66cc66;">=</span> np.<span style="color: black;">arange</span><span style="color: black;">(</span><span style="color: #ff4500;">100</span><span style="color: black;">)</span>
a.<span style="color: black;">shape</span>
&nbsp;
------------------------------------------
&nbsp;
<span style="color: black;">(</span>100,<span style="color: black;">)</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: black;">)</span> 
&nbsp;
------------------------------------------
&nbsp;
array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],
       [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],
       [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],
       [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],
       [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],
       [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],
       [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],
       [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],
       [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]])
   </pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">20</span><span style="color: black;">)</span> 
&nbsp;
------------------------------------------

array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
            17, 18, 19],
           [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36,
            37, 38, 39],
           [40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56,
            57, 58, 59],
           [60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76,
            77, 78, 79],
           [80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96,
            97, 98, 99]])
   </pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">)</span> 
&nbsp;
------------------------------------------
      &nbsp;
array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11],
        [12, 13, 14, 15],
        [16, 17, 18, 19]],
&nbsp;
       [[20, 21, 22, 23],
        [24, 25, 26, 27],
        [28, 29, 30, 31],
        [32, 33, 34, 35],
        [36, 37, 38, 39]],
&nbsp;
       [[40, 41, 42, 43],
        [44, 45, 46, 47],
        [48, 49, 50, 51],
        [52, 53, 54, 55],
        [56, 57, 58, 59]],
&nbsp;
       [[60, 61, 62, 63],
        [64, 65, 66, 67],
        [68, 69, 70, 71],
        [72, 73, 74, 75],
        [76, 77, 78, 79]],
&nbsp;
       [[80, 81, 82, 83],
        [84, 85, 86, 87],
        [88, 89, 90, 91],
        [92, 93, 94, 95],
        [96, 97, 98, 99]]])</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Например, фильм можно представить в&nbsp;виде 4-мерного массива кадров. Кадр&nbsp;— это картинка, то&nbsp;есть трёхмерный массив. Его также можно представить как двумерный массив пикселей, где каждый пиксель&nbsp;— одномерный массив из&nbsp;трёх элементов: R, G, B.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Важно</strong></h4>
<div>
<p>Самое главное&nbsp;— при использовании функции <strong>reshape()</strong> произведение ее&nbsp;параметров должно быть равно количеству элементов в&nbsp;массиве.</p>
<p>Иначе мы&nbsp;получим ошибку:</p>
<div>
<pre class="python" style="font-family: monospace;">a.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
&nbsp;ValueError                    Traceback (most recent call last)
&nbsp;
&lt;ipython-input-31-a907d0800243&gt; in &lt;module&gt;()
----&gt; 1 a.reshape(2, 3, 4)
&nbsp;
&nbsp;
ValueError: cannot reshape array of size 100 into shape (2, 3, 4)</pre>
</div>
</div>
</div>
<p>&nbsp;</p>
<p><a name="5"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>5. Индексация в&nbsp;массивах</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Давайте рассмотрим массив 10×10, созданный ранее.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a <span style="color: #66cc66;">=</span> a.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: #66cc66;">, </span><span style="color: #ff4500;">10</span><span style="color: black;">)</span>
a
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span>
<span style="color: #808080; font-style: italic;">#           [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</span>
<span style="color: #808080; font-style: italic;">#           [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span>
<span style="color: #808080; font-style: italic;">#           [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],</span>
<span style="color: #808080; font-style: italic;">#           [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],</span>
<span style="color: #808080; font-style: italic;">#           [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],</span>
<span style="color: #808080; font-style: italic;">#           [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],</span>
<span style="color: #808080; font-style: italic;">#           [70, 71, 72, 73, 74, 75, 76, 77, 78, 79],</span>
<span style="color: #808080; font-style: italic;">#           [80, 81, 82, 83, 84, 85, 86, 87, 88, 89],</span>
<span style="color: #808080; font-style: italic;">#           [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]])</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>В&nbsp;нём работает привычная индексация.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt; 12</span>
a<span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt; 21</span>
a<span style="color: black;">[</span><span style="color: #ff4500;">5</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt; array([50, 51, 52, 53, 54, 55, 56, 57, 58, 59])</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>По&nbsp;аналогии со&nbsp;списками мы&nbsp;можем применять срезы:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span><span style="color: #ff4500;">3</span>:<span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span>:<span style="color: #ff4500;">6</span><span style="color: black;">]</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([[31, 32, 33, 34, 35], [41, 42, 43, 44, 45]])</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span>:<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span>:<span style="color: #ff4500;">4</span><span style="color: black;">]</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 2,  3],</span>
<span style="color: #808080; font-style: italic;">#           [12, 13],</span>
<span style="color: #808080; font-style: italic;">#           [22, 23],</span>
<span style="color: #808080; font-style: italic;">#           [32, 33],</span>
<span style="color: #808080; font-style: italic;">#           [42, 43],</span>
<span style="color: #808080; font-style: italic;">#           [52, 53],</span>
<span style="color: #808080; font-style: italic;">#           [62, 63],</span>
<span style="color: #808080; font-style: italic;">#           [72, 73],</span>
<span style="color: #808080; font-style: italic;">#           [82, 83],</span>
<span style="color: #808080; font-style: italic;">#           [92, 93]])</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Кроме того, доступ можно организовать через списки с&nbsp;индексами:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span> <span style="color: black;">[</span><span style="color: #ff4500;">4</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">8</span><span style="color: black;">]</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt; array([14, 14, 17, 18])</span></pre>
</div>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<div>
<h4><strong>Важно</strong></h4>
<p>Но&nbsp;самой удобной альтернативой «обычному способу» является тот, в&nbsp;котором в&nbsp;качестве «адреса» элемента используется кортеж координат:</p>
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span><span style="color: black;">(</span><span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">9</span><span style="color: black;">)</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt;  79</span></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Скобки, конечно&nbsp;же, можно опустить:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a<span style="color: black;">[</span><span style="color: #ff4500;">7</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">9</span><span style="color: black;">]</span> <span style="color: #808080; font-style: italic;"># =&gt; 79</span></pre>
</div>
</div>
<p><a name="6"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>6. Массовые операции</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Инициализация:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: black;">ones</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: black;">)</span> <br><span style="color: #808080; font-style: italic;"># заполняем единицами</span>
<span style="color: #808080; font-style: italic;"># =&gt;  array([ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.])</span>
&nbsp;
np.<span style="color: black;">ones</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">int32</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># заполняем единицами целого типа</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1], dtype=int32)</span>
&nbsp;
np.<span style="color: black;">zeros</span><span style="color: black;">(</span><span style="color: #ff4500;">30</span><span style="color: black;">)</span>.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">6</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># заполняем нулями и сразу указываем форму</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 0.,  0.,  0.,  0.,  0.,  0.],</span>
<span style="color: #808080; font-style: italic;">#           [ 0.,  0.,  0.,  0.,  0.,  0.],</span>
<span style="color: #808080; font-style: italic;">#           [ 0.,  0.,  0.,  0.,  0.,  0.],</span>
<span style="color: #808080; font-style: italic;">#           [ 0.,  0.,  0.,  0.,  0.,  0.],</span>
<span style="color: #808080; font-style: italic;">#           [ 0.,  0.,  0.,  0.,  0.,  0.]])</span>
&nbsp;
np.<span style="color: #dc143c;">random</span>.<span style="color: black;">randint</span><span style="color: black;">(</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: #66cc66;">,</span> <span style="color: black;">(</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: black;">)</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># заполняем случайными целыми из диапазона [1..10]</span>
<span style="color: #808080; font-style: italic;"># и сразу указываем форму</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([[3, 1, 1, 5, 4],</span>
<span style="color: #808080; font-style: italic;">#           [5, 4, 8, 6, 3],</span>
<span style="color: #808080; font-style: italic;">#           [6, 9, 9, 3, 4],</span>
<span style="color: #808080; font-style: italic;">#           [7, 4, 2, 1, 9],</span>
<span style="color: #808080; font-style: italic;">#           [3, 5, 4, 2, 2]])</span>
&nbsp;
np.<span style="color: #dc143c;">random</span>.<span style="color: #dc143c;">random</span><span style="color: black;">(</span><span style="color: #ff4500;">10</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># заполняем случайными вещественными числами</span> <span style="color: #808080; font-style: italic;">из диапазона [0..1)</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([ 0.96373978,  0.73252097,  0.32213768,  0.81560531,  0.31843467,</span>
<span style="color: #808080; font-style: italic;">#            0.51289493,  0.99791928,  0.5999641 ,  0.15257882,  0.16074567])</span>
&nbsp;
np.<span style="color: black;">fromstring</span><span style="color: black;">(</span><span style="color: #483d8b;">"1, 3, 4, 5, 120"</span><span style="color: #66cc66;">,</span> sep<span style="color: #66cc66;">=</span><span style="color: #483d8b;">","</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># формируем массив из строки чисел, </span><span style="color: #808080; font-style: italic;">указывая разделитель</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([   1.,    3.,    4.,    5.,  120.])</span>
&nbsp;
np.<span style="color: black;">fromfunction</span><span style="color: black;">(</span><span style="color: #ff7700; font-weight: bold;">lambda</span> x<span style="color: #66cc66;">,</span> y: x * <span style="color: #ff4500;">5</span> + y<span style="color: #66cc66;">,</span> <span style="color: black;">(</span><span style="color: #ff4500;">3</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">int8</span><span style="color: black;">)<br></span><span style="color: #808080; font-style: italic;"># каждый элемент массива</span> <span style="color: #808080; font-style: italic;">вычисляется по функции</span>
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 0,  1,  2,  3,  4],</span>
<span style="color: #808080; font-style: italic;">#           [ 5,  6,  7,  8,  9],</span>
<span style="color: #808080; font-style: italic;">#           [10, 11, 12, 13, 14]], dtype=int8)</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Работают основные операции арифметики, сравнения, причем на&nbsp;всем массиве целиком. И&nbsp;это здорово!</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">a <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">random</span>.<span style="color: black;">randint</span><span style="color: black;">(</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: black;">)</span>
b <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">random</span>.<span style="color: black;">randint</span><span style="color: black;">(</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">10</span><span style="color: black;">)</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a<span style="color: black;">)</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>b<span style="color: black;">)</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># =&gt; [1 3 1 1 3 4 2 3 3 3]</span>
<span style="color: #808080; font-style: italic;"># =&gt; [4 1 1 3 1 4 4 4 1 1]</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a <span style="color: #66cc66;">&gt;</span> b<span style="color: black;">)</span>     <span style="color: #808080; font-style: italic;"># =&gt; [False True False False True False False False True<br>                       True]</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a + b<span style="color: black;">)</span>     <span style="color: #808080; font-style: italic;"># =&gt; [5 4 2 4 4 8 6 7 4 4]</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a * b<span style="color: black;">)</span>     <span style="color: #808080; font-style: italic;"># =&gt; [ 4  3  1  3  3 16  8 12  3  3]</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a ** <span style="color: #ff4500;">2</span><span style="color: black;">)</span>    <span style="color: #808080; font-style: italic;"># =&gt; [ 1  9  1  1  9 16  4  9  9  9]</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a<span style="color: black;">[</span>a <span style="color: #66cc66;">&gt;</span> b<span style="color: black;">]</span><span style="color: black;">)</span>  <span style="color: #808080; font-style: italic;"># =&gt; [3 3 3 3]</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>a.<span style="color: #008000;">sum</span><span style="color: black;">(</span><span style="color: black;">)</span><span style="color: black;">)</span>   <span style="color: #808080; font-style: italic;"># =&gt; 24</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Тригонометрические операции тоже работают, только надо использовать их&nbsp;версии из&nbsp;библиотеки <strong>numpy</strong>, а&nbsp;не&nbsp;из&nbsp;<strong>math</strong>:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>np.<span style="color: black;">sin</span><span style="color: black;">(</span>a<span style="color: black;">)</span><span style="color: black;">)</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># =&gt; [ 0.84147098  0.14112001  0.84147098  0.84147098  0.14112001<br>#     -0.7568025</span><span style="color: #808080; font-style: italic;">   0.90929743  0.14112001  0.14112001  0.14112001]</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Вспомним начало этого урока, когда мы&nbsp;говорили о&nbsp;скорости работы.</p>
<p>Решим ту&nbsp;же задачу по&nbsp;вычислению 1&nbsp;миллиона корней с&nbsp;помощью numpy и&nbsp;посмотрим, какого ускорения мы&nbsp;добились:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #dc143c;">timeit</span>.<span style="color: #dc143c;">timeit</span><span style="color: black;">(</span><span style="color: #483d8b;">"np.sqrt(np.arange(1000000))"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"import numpy as np"</span><span style="color: #66cc66;">,</span> number<span style="color: #66cc66;">=</span><span style="color: #ff4500;">1</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; 0.014551434993336443</span></pre>
</div>
</div>
<p><a name="7"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>7. Немного о&nbsp;матрицах</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Numpy позволяет очень эффективно работать с&nbsp;двумерными и&nbsp;вообще n-мерными массивами.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># Заполним матрицу "последовательно" по строкам</span>
a <span style="color: #66cc66;">=</span> np.<span style="color: black;">arange</span><span style="color: black;">(</span><span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">21</span><span style="color: black;">)</span>.<span style="color: black;">reshape</span><span style="color: black;">(</span><span style="color: #ff4500;">4</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">5</span><span style="color: black;">)</span>
a
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 1,  2,  3,  4,  5],</span>
<span style="color: #808080; font-style: italic;">#           [ 6,  7,  8,  9, 10],</span>
<span style="color: #808080; font-style: italic;">#           [11, 12, 13, 14, 15],</span>
<span style="color: #808080; font-style: italic;">#           [16, 17, 18, 19, 20]])</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># Транспонируем матрицу (строки станут столбцами, а столбцы строками)</span>
b <span style="color: #66cc66;">=</span> a.<span style="color: black;">transpose</span><span style="color: black;">(</span><span style="color: black;">)</span>
b
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 1,  6, 11, 16],</span>
<span style="color: #808080; font-style: italic;">#           [ 2,  7, 12, 17],</span>
<span style="color: #808080; font-style: italic;">#           [ 3,  8, 13, 18],</span>
<span style="color: #808080; font-style: italic;">#           [ 4,  9, 14, 19],</span>
<span style="color: #808080; font-style: italic;">#           [ 5, 10, 15, 20]])</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># Повернем матрицу вправо и влево</span>
b <span style="color: #66cc66;">=</span> np.<span style="color: black;">rot90</span><span style="color: black;">(</span>a<span style="color: black;">)</span>
c <span style="color: #66cc66;">=</span> np.<span style="color: black;">rot90</span><span style="color: black;">(</span>a<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: black;">)</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>b<span style="color: black;">)</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>c<span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; [[ 5 10 15 20]</span>
<span style="color: #808080; font-style: italic;">#     [ 4  9 14 19]</span>
<span style="color: #808080; font-style: italic;">#     [ 3  8 13 18]</span>
<span style="color: #808080; font-style: italic;">#     [ 2  7 12 17]</span>
<span style="color: #808080; font-style: italic;">#     [ 1  6 11 16]]</span>
<span style="color: #808080; font-style: italic;">#    [[16 11  6  1]</span>
<span style="color: #808080; font-style: italic;">#     [17 12  7  2]</span>
<span style="color: #808080; font-style: italic;">#     [18 13  8  3]</span>
<span style="color: #808080; font-style: italic;">#     [19 14  9  4]</span>
<span style="color: #808080; font-style: italic;">#     [20 15 10  5]]</span></pre>
</div>
</div>
<p><a name="8"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>8. Сортировки</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Библиотека numpy предлагает свои функции по&nbsp;сортировке. Давайте посмотрим, как они работают:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># заполним матрицу случайными целыми числами</span>
a <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">random</span>.<span style="color: black;">randint</span><span style="color: black;">(</span><span style="color: #ff4500;">20</span><span style="color: #66cc66;">,</span> size<span style="color: #66cc66;">=</span><span style="color: black;">(</span><span style="color: #ff4500;">5</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">4</span><span style="color: black;">)</span><span style="color: black;">)</span>
a
<span style="color: #808080; font-style: italic;"># =&gt; array([[ 2, 12,  0,  7],</span>
<span style="color: #808080; font-style: italic;">#           [12,  1, 11, 18],</span>
<span style="color: #808080; font-style: italic;">#           [ 6,  1,  4, 10],</span>
<span style="color: #808080; font-style: italic;">#           [ 0,  9,  5,  3],</span>
<span style="color: #808080; font-style: italic;">#           [18, 12, 12,  5]])</span></pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># отсортируем матрицу по умолчанию</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>np.<span style="color: black;">sort</span><span style="color: black;">(</span>a<span style="color: black;">)</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; [[ 0  2  7 12]</span>
<span style="color: #808080; font-style: italic;">#     [ 1 11 12 18]</span>
<span style="color: #808080; font-style: italic;">#     [ 1  4  6 10]</span>
<span style="color: #808080; font-style: italic;">#     [ 0  3  5  9]</span>
<span style="color: #808080; font-style: italic;">#     [ 5 12 12 18]]</span></pre>
</div>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Важно</strong></h4>
<div>В&nbsp;этом случае сортировка происходит по&nbsp;<strong>последнему</strong> измерению. Обходя матрицу, мы&nbsp;сначала выбираем строку, а&nbsp;потом идем по&nbsp;этой строке, поэтому последнее измерение в&nbsp;данном случае&nbsp;— это строка. В&nbsp;результате мы&nbsp;отсортировали независимо каждую строку.</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># а теперь укажем конкретное измерение</span>
<span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>np.<span style="color: black;">sort</span><span style="color: black;">(</span>a<span style="color: #66cc66;">,</span> axis<span style="color: #66cc66;">=</span><span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; [[ 0  1  0  3]</span>
<span style="color: #808080; font-style: italic;">#     [ 2  1  4  5]</span>
<span style="color: #808080; font-style: italic;">#     [ 6  9  5  7]</span>
<span style="color: #808080; font-style: italic;">#     [12 12 11 10]</span>
<span style="color: #808080; font-style: italic;">#     [18 12 12 18]]</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Матрица отсортирована по&nbsp;столбцам.</p>
<p>Но&nbsp;самое интересное в&nbsp;том, что если в&nbsp;качестве значения параметра <strong>axis</strong> указать <strong>None</strong>, то&nbsp;матрица перед сортировкой будет линеаризована, то&nbsp;есть превращена в&nbsp;одномерный массив.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>np.<span style="color: black;">sort</span><span style="color: black;">(</span>a<span style="color: #66cc66;">,</span> axis<span style="color: #66cc66;">=</span><span style="color: #008000;">None</span><span style="color: black;">)</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># =&gt; [ 0  0  1  1  2  3  4  5  5  6  7  9 10 11 12 12 12 12 18 18]</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Обратите внимание, что подобное поведение характерно не&nbsp;только для функции <strong>sort()</strong>, но&nbsp;и&nbsp;для многих других функций: <strong>min()</strong>, <strong>sum()</strong> и&nbsp;т.д.</p>
<p>Но&nbsp;об&nbsp;этом вы&nbsp;можете почитать самостоятельно на&nbsp;странице с&nbsp;<span style="text-decoration: underline;"><a href="https://docs.scipy.org/doc/numpy/genindex.html" target="_blank" rel="noopener">документацией</a></span>.</p>
</div>
<p><a name="9"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>9. Вспомним PIL</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Работая с&nbsp;библиотекой <strong>PIL</strong> тоже можно использовать средства numpy.</p>
<p>Например, если мы&nbsp;хотим сделать изображение темнее оригинала, то&nbsp;можем просто поделить его составляющие, например, на&nbsp;10:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">from</span> PIL <span style="color: #ff7700; font-weight: bold;">import</span> Image
<span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np
&nbsp;
<span style="color: #808080; font-style: italic;"># получим массив numpy из картинки, которую откроем из файла.</span>
image <span style="color: #66cc66;">=</span> np.<span style="color: black;">asarray</span><span style="color: black;">(</span>Image.<span style="color: #008000;">open</span><span style="color: black;">(</span><span style="color: #483d8b;">'images/Риана.jpg'</span><span style="color: black;">)</span><span style="color: black;">)</span>
<span style="color: #808080; font-style: italic;"># поделим все элементы массива на 10,</span>
<span style="color: #808080; font-style: italic;"># приведем к типу uint8 (один байт без знака)</span>
<span style="color: #808080; font-style: italic;"># преобразуем в изображение и сохраним в файл</span>
Image.<span style="color: black;">fromarray</span><span style="color: black;">(</span>np.<span style="color: black;">uint8</span><span style="color: black;">(</span>image // <span style="color: #ff4500;">10</span><span style="color: black;">)</span><span style="color: black;">)</span>.<span style="color: black;">save</span><span style="color: black;">(</span><span style="color: #483d8b;">'r2.jpg'</span><span style="color: black;">)</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br><img src="https://yastatic.net/s3/lyceum/content/image/riana-numpy.jpeg" width="600" height="auto"></p>
</div>
<p><a name="10"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>10. Игра «Жизнь»</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Несколько десятилетий назад Джон Конуэй придумал один из&nbsp;самых известных клеточных автоматов, который назвал игрой «Жизнь». Простота правил сочетается в&nbsp;ней с&nbsp;богатством результатов. Многие компьютерные инженеры хоть раз обращались к&nbsp;программированию и&nbsp;исследованию этой игры, которая послужила интересной моделью для многих отраслей науки.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<h4><strong>Клеточный автомат</strong></h4>
<div>
<p>Клеточный автомат&nbsp;— это модель однородного пространства с&nbsp;некоторыми клетками. Каждая клетка может находиться в&nbsp;одном из&nbsp;нескольких состояний и&nbsp;иметь некоторое количество соседей. Задаются правила перехода из&nbsp;одного состояния в&nbsp;другое в&nbsp;зависимости от&nbsp;текущего состояния клетки и&nbsp;её&nbsp;соседей.</p>
<p>Пространство «Жизни»&nbsp;— бесконечное поле клеток.</p>
</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Каждая клетка имеет 8&nbsp;соседей (сверху, снизу, справа, слева и&nbsp;по&nbsp;диагонали). Клетка может иметь два состояния: живая (на&nbsp;клетке стоит фишка) и&nbsp;мёртвая (фишки нет).</p>
<p>Правила изменения следующие:</p>
<ul>
<li>
<p>Если клетка была живой, то&nbsp;она выживет, если у&nbsp;неё 2&nbsp;или 3&nbsp;соседа. Если соседей 4, 5, 6, 7&nbsp;или&nbsp;8, то&nbsp;она умирает от&nbsp;перенаселённости, а&nbsp;если 0&nbsp;или 1&nbsp;— то&nbsp;от&nbsp;одиночества.</p>
</li>
<li>
<p>Новая клетка рождается в&nbsp;поле, у&nbsp;которого есть ровно 3&nbsp;соседа.</p>
</li>
</ul>
<p>Время в&nbsp;этой игре дискретно и&nbsp;считается поколениями. Всё начинается с&nbsp;начальной расстановки фишек (0&nbsp;поколение), в&nbsp;дальнейшем рассматривается эволюция клеточного пространства в&nbsp;1, 2, 3&nbsp;и&nbsp;т.&nbsp;д. поколении. Процессы смерти и&nbsp;рождения происходят одновременно, после чего строится следующее поколение.</p>
<p>Давайте попробуем написать игру «Жизнь», используя библиотеку numpy. Пусть у&nbsp;нас будет поле 10×10, в&nbsp;центр которого поместим конструкцию, известную как «глайдер». Мы&nbsp;скоро выясним, почему она так называется.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np
&nbsp;
population <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span>
    <span style="color: black;">[</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">uint8</span><span style="color: black;">)</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Поле имеет тип <strong>uint8</strong>, чтобы оно занимало меньше памяти. Каждый его элемент занимает ровно 1&nbsp;байт (8&nbsp;бит) и&nbsp;является целым беззнаковым (<strong>unsigned</strong>) числом в&nbsp;диапазоне от&nbsp;0&nbsp;до&nbsp;255.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<div>Живые клетки обозначаются единицей, а&nbsp;мёртвые&nbsp;— нулём. Нужно решить, что делать на&nbsp;границах поля. Мы&nbsp;не&nbsp;можем обеспечить бесконечность в&nbsp;обоих направлениях, поэтому замкнём поле само на&nbsp;себя. Если выйти за&nbsp;нижнюю границу, мы&nbsp;окажемся наверху, а&nbsp;если за&nbsp;правую&nbsp;— появимся слева, и&nbsp;наоборот. Получается что-то вроде глобуса.</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Для начала познакомимся с&nbsp;операцией <strong>roll</strong>, доступной для массивов. Она сдвигает исходный массив вдоль одного из&nbsp;измерений (в&nbsp;данном случае&nbsp;— строки или столбца).</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">population
&nbsp;
------------------------------------------
<br>array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
&nbsp;
array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">2</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
<br>array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
       [0, 0, 0, 0, 0, 1, 1, 1, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Мы&nbsp;можем посчитать количество соседей у&nbsp;каждой клетки, просто сделав 8&nbsp;копий со&nbsp;сдвигом массива и&nbsp;просуммировав&nbsp;их.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;">neighbors <span style="color: #66cc66;">=</span> <span style="color: #008000;">sum</span><span style="color: black;">(</span><span style="color: black;">[</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
    np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span>
<span style="color: black;">]</span><span style="color: black;">)</span></pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Таки образом, матрица количества соседей выглядит так:</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="text" style="font-family: monospace;">neighbors
&nbsp;
------------------------------------------
&nbsp;
array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
       [0, 0, 0, 1, 1, 2, 1, 0, 0, 0],
       [0, 0, 1, 3, 5, 3, 2, 0, 0, 0],
       [0, 0, 1, 1, 3, 2, 2, 0, 0, 0],
       [0, 0, 1, 2, 3, 2, 1, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Теперь нужно получить новую популяцию.</p>
</div>
<p>&nbsp;</p>
<div style="background-color: #ffeba0; padding: 60px;">
<div>
<p>Выполним на&nbsp;матрице следующую операцию: «если у&nbsp;клетки 3&nbsp;соседа, то&nbsp;в&nbsp;следующем поколении на&nbsp;этом месте будет клетка; а&nbsp;если 2&nbsp;соседа, то&nbsp;клетка будет при условии, что она была „жива“ в&nbsp;текущем поколении».</p>
<p>Для этого воспользуемся операторами&nbsp;<strong>|</strong> (или) и&nbsp;<strong>&amp;</strong> (и).</p>
</div>
</div>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># выделим клетки, у которых ровно три соседа</span>
neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">3</span>
&nbsp;
------------------------------------------
<br>array([[False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False,  True, False,  True, False, False, False,
        False],
       [False, False, False, False,  True, False, False, False, False,
        False],
       [False, False, False, False,  True, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False],
       [False, False, False, False, False, False, False, False, False,
        False]], dtype=bool)</pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># а теперь те, в которых была жизнь и имеется ровно два соседа</span>
population &amp; <span style="color: black;">(</span>neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">2</span><span style="color: black;">)</span>
&nbsp;
------------------------------------------
<br>array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div>&nbsp;</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #808080; font-style: italic;"># и объединим их</span>
population <span style="color: #66cc66;">=</span> <span style="color: black;">(</span>neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">3</span><span style="color: black;">)</span> | <span style="color: black;">(</span>population &amp; <span style="color: black;">(</span>neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">2</span><span style="color: black;">)</span><span style="color: black;">)</span>
population
&nbsp;
------------------------------------------
<br>array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 1, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>Объединить матрицы с&nbsp;логическими и&nbsp;целочисленными элементами можно, поскольку они в&nbsp;данном случае могут быть сведены друг к&nbsp;другу: 0&nbsp;— <strong>False</strong>, 1&nbsp;— <strong>True</strong>.</p>
<p>Проследим эволюцию глайдера на&nbsp;протяжении 4&nbsp;поколений. Для этого создадим функцию <strong>next_population()</strong>.</p>
</div>
<div style="padding-left: 60px;">
<div>
<pre class="python" style="font-family: monospace;"><span style="color: #ff7700; font-weight: bold;">def</span> next_population<span style="color: black;">(</span>population<span style="color: black;">)</span>:
    neighbors <span style="color: #66cc66;">=</span> <span style="color: #008000;">sum</span><span style="color: black;">(</span><span style="color: black;">[</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span><span style="color: #66cc66;">,</span>
        np.<span style="color: black;">roll</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> -<span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">)</span>
    <span style="color: black;">]</span><span style="color: black;">)</span>
    <span style="color: #ff7700; font-weight: bold;">return</span> <span style="color: black;">(</span>neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">3</span><span style="color: black;">)</span> | <span style="color: black;">(</span>population &amp; <span style="color: black;">(</span>neighbors <span style="color: #66cc66;">==</span> <span style="color: #ff4500;">2</span><span style="color: black;">)</span><span style="color: black;">)</span>
&nbsp;
&nbsp;
population <span style="color: #66cc66;">=</span> np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span>
    <span style="color: black;">[</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">1</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span>
     <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">0</span><span style="color: black;">]</span><span style="color: black;">]</span><span style="color: #66cc66;">,</span> dtype<span style="color: #66cc66;">=</span>np.<span style="color: black;">uint8</span><span style="color: black;">)</span>
&nbsp;
<span style="color: #ff7700; font-weight: bold;">for</span> _ <span style="color: #ff7700; font-weight: bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">(</span><span style="color: #ff4500;">4</span><span style="color: black;">)</span>:
    <span style="color: #ff7700; font-weight: bold;">print</span><span style="color: black;">(</span>population<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'<span style="color: #000099; font-weight: bold;">\n</span>'</span><span style="color: black;">)</span>
    population <span style="color: #66cc66;">=</span> next_population<span style="color: black;">(</span>population<span style="color: black;">)</span>
&nbsp;
------------------------------------------
&nbsp;   <br>    [[0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 1 0 0 0 0 0]
     [0 0 0 0 0 1 0 0 0 0]
     [0 0 0 1 1 1 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]] 
&nbsp;
    [[0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 1 0 1 0 0 0 0]
     [0 0 0 0 1 1 0 0 0 0]
     [0 0 0 0 1 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]] 
&nbsp;
    [[0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 1 0 0 0 0]
     [0 0 0 1 0 1 0 0 0 0]
     [0 0 0 0 1 1 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]] 
&nbsp;
    [[0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 1 0 0 0 0 0]
     [0 0 0 0 0 1 1 0 0 0]
     [0 0 0 0 1 1 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]
     [0 0 0 0 0 0 0 0 0 0]]</pre>
</div>
</div>
<div style="padding-left: 60px;">
<p><br>С&nbsp;визуализацией у&nbsp;нас не&nbsp;очень здорово, но&nbsp;видно, что глайдер «летит»: каждые четыре поколения он&nbsp;сдвигается вниз и&nbsp;вправо. Иными словами, он&nbsp;движется в&nbsp;правый нижний угол, что демонстрирует красивая анимация <span style="text-decoration: underline;"><a href="https://ru.wikipedia.org/wiki/Игра_«Жизнь»" target="_blank" rel="noopener">источника</a></span>.</p>
<p><img src="https://yastatic.net/s3/lyceum/content/image/game-life.gif" width="600" height="auto"></p>
<p>За&nbsp;время поисков были найдены разнообразные движущиеся комбинации, периодические комбинации, порождающие глайдеры («глайдерные ружья»). Была даже доказана возможность построить в&nbsp;игре «Жизнь» универсальную вычислительную машину.</p>
</div>
<p><a name="1"></a></p>
<div style="margin-bottom: 60px;">&nbsp;</div>
<h4>Итоги</h4>
<p>&nbsp;</p>
<div style="padding-left: 60px;">
<p>Мы&nbsp;увидели, что значительную часть вычислений можно реализовывать в&nbsp;библиотеках, избавляясь от&nbsp;циклов в&nbsp;Python и&nbsp;ускоряя вычисления. Массивы <strong>numpy</strong>&nbsp;— одна из&nbsp;самых востребованных структур в&nbsp;вычислительной математике.</p>
</div></article></section>
{%endblock%}